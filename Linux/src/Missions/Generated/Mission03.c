//
//  Mission03.c
//
//  Finite state machine routines for "Mission03" mission
//
//  Copyright (C) 1998 Relic Entertainment Inc.
//  All rights reserved
//
//  This code was autogenerated from Mission03.kp by KAS2C Version 2.05sdl
//


#include "Mission03.h"  // prototypes and #includes for exposed game functions

extern AITeam *CurrentTeamP;
#define kasThisTeamPtr CurrentTeamP

//  for run-time scoping of symbols (variables, timers, etc.)
extern sdword CurrentMissionScope;
extern char CurrentMissionScopeName[];

//  for displaying localized strings
extern udword strCurLanguage;

static char *LSTRING_LCLocationCard[] = {  // multilingual strings
	"KHARAK SYSTEM",
	"SYSTEME KHARAK",
	"KHARAK-SYSTEM",
	"SISTEMA DE KHARAK",
	"SISTEMA DI KHARAK", };

static char *LSTRING_OBDefendCryos[] = {  // multilingual strings
	"Defend cryo trays",
	"D�fendre les modules cryog�niques",
	"K�lteschlaf-Container verteidigen.",
	"Defiende los soportes criog�nicos",
	"Difendi le camere criogeniche", };

static char *LSTRING_OBObjective1[] = {  // multilingual strings
	"Capture enemy ship using 2 Salvage Corvettes",
	"Capture Unit� ennemie avec 2 Corvettes de Recuperation",
	"Feindliches Schlachtschiff mit 2 Bergungskorvetten erobern.",
	"Captura la nave enemiga utilizando 2 corbetas de salvamento",
	"Cattura l'astronave nemica con 2 Corvette di Recupero", };

static char *LSTRING_OBSalvageCryos[] = {  // multilingual strings
	"Salvage cryo trays",
	"Sauver les plates-formes",
	"Container abholen",
	"Rescata los soportes criog�nicos",
	"Recupera le camere criogeniche", };

static char *LSTRING_LevelSave[] = {  // multilingual strings
	"03 - Return To Kharak",
	"03 - Retour vers Kharak",
	"03 � R�ckkehr nach Kharak",
	"03 - Volver a Kharak",
	"03 - Ritorno a Kharak", };

static char *LSTRING_TBHyperspace[] = {  // multilingual strings
	"                HYPERSPACE",
	"                HYPERSPACE",
	"        HYPERRAUMSPRUNG",
	"              HIPERESPACIO",
	"				IPERSPAZIO", };

static char *LSTRING_OBReadyToGo[] = {  // multilingual strings
	"Cryogenic Trays loaded.  Hyperspace module charged.  It's time to go.",
	"Chargement des plates-formes cryo accompli. Module Hyperspatial activ�. On y va.",
	"K�lteschlaf-Container geladen. Hypersprung-Modul aufgeladen. Es wird Zeit zum Abflug.",
	"Soportes criog�nicos cargados. M�dulo hiperespacial cargado. Ha llegado el momento de partir.",
	"Camere Criogeniche a bordo. Modulo iperspaziale caricato. � ora di andare.", };

//
//  "initialize" code for Mission03 ImNotHere FSM
//
void Init_Mission03_ImNotHere(void)
{
	CurrentMissionScope = KAS_SCOPE_FSM;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(kasfIntelEventNotEnded(), 0);
	(kasfVarCreateSet("CryosSalvaged", 0), 0);
	(kasfVarCreateSet("Intel", 0), 0);
	(kasfVarCreateSet("InNullState", 0), 0);
	kasJump("LocationCard", Init_Mission03_ImNotHere_LocationCard, Watch_Mission03_ImNotHere_LocationCard);
	return;
	
}


//
//  "watch" code for Mission03 ImNotHere FSM
//
void Watch_Mission03_ImNotHere(void)
{
	CurrentMissionScope = KAS_SCOPE_FSM;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if (!kasfVarValueGet("_VIFONCE001") && (kasfVarValueGet("G_SalvageFrigate"))) // "ifonce" #1
	{
	kasfVarCreateSet("_VIFONCE001", 1);
	(kasfVarValueSet("G_SalvageFrigate", 0), 0);
	(kasfObjectiveCreate("CaptureOne", LSTRING_OBObjective1[strCurLanguage], "fleet command 3.3"), 0);
	(kasfVarCreateSet("ObjectiveCreated", 1), 0);
	(kasfObjectiveSet("CaptureOne", 1), 0);
	(kasfTimerCreateSetStart("Searching", 8), 0);
	}
	if (kasfTimerExpiredDestroy("Searching"))
	{
	(kasfPlayerAcquiredTechnology("MassDrive100Kt"), 0);
	(kasfAllowPlayerToResearch("Chassis3"), 0);
	(kasfVarValueSet("InNullState", 0), 0);
	kasJump("GotTheBastard", Init_Mission03_ImNotHere_GotTheBastard, Watch_Mission03_ImNotHere_GotTheBastard);
	return;
	}
	if (!kasfVarValueGet("_VIFONCE002") && ((!kasfObjectiveGet("CaptureOne")) && ((kasfShipsCount(kasAITeamShipsPtr("EnemyFrig01")) + kasfShipsCount(kasAITeamShipsPtr("EnemyFrig02")) + kasfShipsCount(kasAITeamShipsPtr("ImNotDeadYet"))) == 1))) // "ifonce" #2
	{
	kasfVarCreateSet("_VIFONCE002", 1);
	(kasfTimerCreateSetStart("WithdrawDelay", 5), 0);
	}
	if (!kasfVarValueGet("_VIFONCE003") && ((kasfUnderAttackElsewhere(kasAITeamPtr("EnemyFrig01"), kasGrowSelectionPtr("NULL")) || kasfUnderAttackElsewhere(kasAITeamPtr("EnemyFrig02"), kasGrowSelectionPtr("NULL")) || kasfUnderAttackElsewhere(kasAITeamPtr("ImNotDeadYet"), kasGrowSelectionPtr("NULL"))) && kasfTimerExpiredDestroy("WithdrawDelay"))) // "ifonce" #3
	{
	kasfVarCreateSet("_VIFONCE003", 1);
	(kasfVarValueSet("InNullState", 0), 0);
	kasJump("WithdrawToSalvage", Init_Mission03_ImNotHere_WithdrawToSalvage, Watch_Mission03_ImNotHere_WithdrawToSalvage);
	return;
	}
	if (!kasfVarValueGet("_VIFONCE004") && ((!kasfObjectiveGet("DefendCryos") && !kasfObjectiveGet("CaptureOne")) && (!kasfShipsCount(kasAITeamShipsPtr("EnemyFrig01")) || kasfVarValueGet("G_EnemyFrig01Escaped")) && (!kasfShipsCount(kasAITeamShipsPtr("EnemyFrig02")) || kasfVarValueGet("G_EnemyFrig02Escaped")) && (!kasfShipsCount(kasAITeamShipsPtr("ImNotDeadYet")) || kasfVarValueGet("G_ImNotDeadYetEscaped")))) // "ifonce" #4
	{
	kasfVarCreateSet("_VIFONCE004", 1);
	(kasfVarCreateSet("GameOver", 1), 0);
	(kasfVarValueSet("InNullState", 0), 0);
	kasJump("FrigatesDiedEscaped", Init_Mission03_ImNotHere_FrigatesDiedEscaped, Watch_Mission03_ImNotHere_FrigatesDiedEscaped);
	return;
	}
	if (!kasfVarValueGet("_VIFONCE005") && (!kasfVarValueGet("GameOver") && (!kasfShipsCount(kasAITeamShipsPtr("EnemyFrig01")) || kasfVarValueGet("G_EnemyFrig01Escaped") || kasfShipsSelectSpecial(kasGrowSelectionPtr("CapturedFrig"), kasAITeamShipsPtr("EnemyFrig01"), 2)) && (!kasfShipsCount(kasAITeamShipsPtr("EnemyFrig02")) || kasfVarValueGet("G_EnemyFrig02Escaped") || kasfShipsSelectSpecial(kasGrowSelectionPtr("CapturedFrig"), kasAITeamShipsPtr("EnemyFrig02"), 2)) && (!kasfShipsCount(kasAITeamShipsPtr("ImNotDeadYet")) || kasfVarValueGet("G_ImNotDeadYetEscaped") || kasfShipsSelectSpecial(kasGrowSelectionPtr("CapturedFrig"), kasAITeamShipsPtr("ImNotDeadYet"), 2)))) // "ifonce" #5
	{
	kasfVarCreateSet("_VIFONCE005", 1);
	(kasfVarCreateSet("FrigatesOutOfThePicture", 1), 0);
	}
	if (!kasfVarValueGet("_VIFONCE006") && (kasfVarValueGet("G_SalvageHandOff"))) // "ifonce" #6
	{
	kasfVarCreateSet("_VIFONCE006", 1);
	(kasfVarValueSet("G_SalCapNearby", 1), 0);
	}
	if (kasfVarValueGet("FrigatesOutOfThePicture") && kasfVarValueGet("G_SalvageHandOff"))
	{
	(kasfVarDestroy("FrigatesOutOfThePicture"), 0);
	(kasfVarDestroy("G_SalvageHandOff"), 0);
	(kasfObjectiveSet("DefendCryos", 1), 0);
	if (kasfShipsCount(kasGrowSelectionPtr("CryoTrays")))
	{
	(kasfVarValueSet("InNullState", 0), 0);
	kasJump("LBXIn3", Init_Mission03_ImNotHere_LBXIn3, Watch_Mission03_ImNotHere_LBXIn3);
	return;
	}
	}
	if (kasfVarValueGet("G_SalvageCryoTray"))
	{
	(kasfVarValueSet("G_SalvageCryoTray", 0), 0);
	(kasfVarValueInc("CryosSalvaged"), 0);
	(kasfVarValueSet("InNullState", 0), 0);
	kasJump("YayCryoSalvaged", Init_Mission03_ImNotHere_YayCryoSalvaged, Watch_Mission03_ImNotHere_YayCryoSalvaged);
	return;
	}
	if (!kasfVarValueGet("_VIFONCE007") && (!kasfShipsCount(kasGrowSelectionPtr("CryoTrays")))) // "ifonce" #7
	{
	kasfVarCreateSet("_VIFONCE007", 1);
	if (!kasfVarValueGet("CryosSalvaged"))
	{
	(kasfVarCreateSet("GameOver", 1), 0);
	(kasfVarValueSet("InNullState", 0), 0);
	kasJump("CryosDead", Init_Mission03_ImNotHere_CryosDead, Watch_Mission03_ImNotHere_CryosDead);
	return;
	}
	}
	if (!kasfVarValueGet("_VIFONCE008") && (kasfVarValueGet("ObjectiveCreated") && (kasfObjectiveGet("DefendCryos")) && (kasfObjectiveGet("CaptureOne")) && (kasfObjectiveGet("GoForCryos")))) // "ifonce" #8
	{
	kasfVarCreateSet("_VIFONCE008", 1);
	(kasfObjectiveCreate("Hyperspace", LSTRING_TBHyperspace[strCurLanguage], LSTRING_OBReadyToGo[strCurLanguage]), 0);
	}
	if (kasfVarValueGet("G_CLICK_GoForCryos"))
	{
	(kasfVarDestroy("G_CLICK_GoForCryos"), 0);
	(kasfVarCreateSet("Replay", 1), 0);
	(kasfVarValueSet("InNullState", 0), 0);
	kasJump("FrigatesOutOfThePicture", Init_Mission03_ImNotHere_FrigatesOutOfThePicture, Watch_Mission03_ImNotHere_FrigatesOutOfThePicture);
	return;
	}
	else if (kasfVarValueGet("G_CLICK_CaptureOne"))
	{
	(kasfVarDestroy("G_CLICK_CaptureOne"), 0);
	(kasfVarValueSet("InNullState", 0), 0);
	kasJump("KillThosePoopyHeads", Init_Mission03_ImNotHere_KillThosePoopyHeads, Watch_Mission03_ImNotHere_KillThosePoopyHeads);
	return;
	}
	else if (kasfVarValueGet("G_CLICK_DefendCryos"))
	{
	(kasfVarDestroy("G_CLICK_DefendCryos"), 0);
	(kasfVarValueSet("InNullState", 0), 0);
	(kasfVarCreateSet("Replay", 1), 0);
	kasJump("CryoObjective", Init_Mission03_ImNotHere_CryoObjective, Watch_Mission03_ImNotHere_CryoObjective);
	return;
	}
	
}


//
//  "initialize" code for Mission03 ImNotHere LocationCard state
//
void Init_Mission03_ImNotHere_LocationCard(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(kasfTimerCreateSetStart("LocationCardTimer", 2), 0);
	
}


//
//  "watch" code for Mission03 ImNotHere LocationCard state
//
void Watch_Mission03_ImNotHere_LocationCard(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if (kasfTimerExpiredDestroy("LocationCardTimer"))
	{
	(kasfLocationCard(5000, LSTRING_LCLocationCard[strCurLanguage]), 0);
	if (kasfFindEnemyShipsOfType(kasGrowSelectionPtr("Stuff"), "HeavyCruiser"))
	{
	kasJump("GotTheBastard", Init_Mission03_ImNotHere_GotTheBastard, Watch_Mission03_ImNotHere_GotTheBastard);
	return;
	}
	else
	{
	kasJump("Wait1", Init_Mission03_ImNotHere_Wait1, Watch_Mission03_ImNotHere_Wait1);
	return;
	}
	}
	
}


//
//  "initialize" code for Mission03 ImNotHere Wait1 state
//
void Init_Mission03_ImNotHere_Wait1(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(kasfTimerCreateSetStart("LetItSinkIn", 8), 0);
	
}


//
//  "watch" code for Mission03 ImNotHere Wait1 state
//
void Watch_Mission03_ImNotHere_Wait1(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((kasfTimerRemaining("LetItSinkIn") == 6))
	{
	(kasfMusicPlay(11), 0);
	}
	if (kasfTimerRemaining("LetItSinkIn") == 0)
	{
	kasJump("OhMyGodTheyveKilledKenny", Init_Mission03_ImNotHere_OhMyGodTheyveKilledKenny, Watch_Mission03_ImNotHere_OhMyGodTheyveKilledKenny);
	return;
	}
	
}


//
//  "initialize" code for Mission03 ImNotHere OhMyGodTheyveKilledKenny state
//
void Init_Mission03_ImNotHere_OhMyGodTheyveKilledKenny(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(kasfSpeechEvent((429 + 2048 + 268435456), 0), 0);
	
}


//
//  "watch" code for Mission03 ImNotHere OhMyGodTheyveKilledKenny state
//
void Watch_Mission03_ImNotHere_OhMyGodTheyveKilledKenny(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if (kasfIntelEventEnded())
	{
	kasJump("YouBastards", Init_Mission03_ImNotHere_YouBastards, Watch_Mission03_ImNotHere_YouBastards);
	return;
	}
	
}


//
//  "initialize" code for Mission03 ImNotHere YouBastards state
//
void Init_Mission03_ImNotHere_YouBastards(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(kasfSpeechEvent((430 + 4096 + 268435456), 0), 0);
	(kasfTimerCreateSetStart("LBX", 1), 0);
	(kasfTimerCreateSetStart("FocusScaffold", 4), 0);
	(kasfTimerCreateSetStart("FocusCancel", 18), 0);
	
}


//
//  "watch" code for Mission03 ImNotHere YouBastards state
//
void Watch_Mission03_ImNotHere_YouBastards(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if (kasfTutGameSentMessage("Game_BandBoxFocus,Game_ClickFocus,KB_CancelFocus,KB_Focus,KB_Sensors,TB_SensorsManager,KB_FocusMothership"))
	{
	(kasfWideScreenOut(90), 0);
	(kasfTimerDestroy("FocusCancel"), 0);
	}
	if (kasfTimerExpiredDestroy("LBX"))
	{
	(kasfWideScreenIn(90), 0);
	}
	if (kasfTimerExpiredDestroy("FocusScaffold"))
	{
	(kasfTutCameraFocusDerelictType("Scaffold_scarred"), 0);
	(kasfTutCameraFocusDerelictType("Scaffold_scarred"), 0);
	(kasfTutResetGameMessageQueue(), 0);
	}
	if (kasfTimerExpiredDestroy("FocusFinger"))
	{
	(kasfTutCameraFocusDerelictType("ScaffoldFingerB_scarred"), 0);
	(kasfTutCameraFocusDerelictType("ScaffoldFingerB_scarred"), 0);
	(kasfTutResetGameMessageQueue(), 0);
	}
	if (kasfTimerExpiredDestroy("FocusCancel"))
	{
	(kasfWideScreenOut(90), 0);
	(kasfTutCameraFocusCancel(), 0);
	(kasfTutCameraFocusCancel(), 0);
	}
	if (kasfIntelEventEnded())
	{
	kasJump("CryoTraysSurvived", Init_Mission03_ImNotHere_CryoTraysSurvived, Watch_Mission03_ImNotHere_CryoTraysSurvived);
	return;
	}
	
}


//
//  "initialize" code for Mission03 ImNotHere LBXIn1 state
//
void Init_Mission03_ImNotHere_LBXIn1(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(kasfWideScreenIn(90), 0);
	(kasfTimerCreateSetStart("LBXTimer", 4), 0);
	
}


//
//  "watch" code for Mission03 ImNotHere LBXIn1 state
//
void Watch_Mission03_ImNotHere_LBXIn1(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((kasfTimerRemaining("LBXTimer") == 2))
	{
	kasJump("CryoTraysSurvived", Init_Mission03_ImNotHere_CryoTraysSurvived, Watch_Mission03_ImNotHere_CryoTraysSurvived);
	return;
	}
	
}


//
//  "initialize" code for Mission03 ImNotHere CryoTraysSurvived state
//
void Init_Mission03_ImNotHere_CryoTraysSurvived(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(kasfIntelEventNotEnded(), 0);
	(kasfSpeechEvent((431 + 2048 + 268435456), 0), 0);
	(kasfTimerCreateSetStart("LBX", 9), 0);
	
}


//
//  "watch" code for Mission03 ImNotHere CryoTraysSurvived state
//
void Watch_Mission03_ImNotHere_CryoTraysSurvived(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if (kasfTimerExpiredDestroy("LBX"))
	{
	(kasfWideScreenIn(90), 0);
	}
	if (kasfIntelEventEnded())
	{
	kasJump("CryoObjective", Init_Mission03_ImNotHere_CryoObjective, Watch_Mission03_ImNotHere_CryoObjective);
	return;
	}
	
}


//
//  "initialize" code for Mission03 ImNotHere CryoObjective state
//
void Init_Mission03_ImNotHere_CryoObjective(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(kasfOpenSensors(27000), 0);
	(kasfObjectiveCreate("DefendCryos", LSTRING_OBDefendCryos[strCurLanguage], "fleet intel 3.2"), 0);
	(kasfSpeechEvent((759 + 4096 + 268435456), 0), 0);
	(kasfTutSetPointerTargetShip("PunyCryoTrays", kasAITeamShipsPtr("CryoTray10")), 0);
	(kasfVarCreateSet("ObjectiveCreated", 1), 0);
	
}


//
//  "watch" code for Mission03 ImNotHere CryoObjective state
//
void Watch_Mission03_ImNotHere_CryoObjective(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(kasfVarValueSet("Intel", kasfIntelEventEnded()), 0);
	if (kasfTimerExpiredDestroy("SinkIn") || (kasfVarValueGet("Intel") == 2) || (kasfVarValueGet("Intel") && kasfVarValueGet("Replay")))
	{
	(kasfVarValueSet("Intel", 0), 0);
	(kasfTutRemoveAllPointers(), 0);
	(kasfCloseSensors(1), 0);
	(kasfWideScreenOut(90), 0);
	if (kasfVarValueGet("Replay"))
	{
	(kasfVarDestroy("Replay"), 0);
	kasJump("NullState", Init_Mission03_ImNotHere_NullState, Watch_Mission03_ImNotHere_NullState);
	return;
	}
	kasJump("WatchForFrigates", Init_Mission03_ImNotHere_WatchForFrigates, Watch_Mission03_ImNotHere_WatchForFrigates);
	return;
	}
	if (kasfVarValueGet("Intel") == 1)
	{
	(kasfTimerCreateSetStart("SinkIn", 1), 0);
	(kasfVarValueSet("Intel", 0), 0);
	}
	
}


//
//  "initialize" code for Mission03 ImNotHere WatchForFrigates state
//
void Init_Mission03_ImNotHere_WatchForFrigates(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "watch" code for Mission03 ImNotHere WatchForFrigates state
//
void Watch_Mission03_ImNotHere_WatchForFrigates(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((kasfRenderedShips(kasAITeamShipsPtr("EnemyFrig01"), 4)) || (kasfRenderedShips(kasAITeamShipsPtr("EnemyFrig02"), 4)) || (kasfRenderedShips(kasAITeamShipsPtr("ImNotDeadYet"), 4)) || (kasfRenderedShips(kasAITeamShipsPtr("EnemyFrig01"), 3)) || (kasfRenderedShips(kasAITeamShipsPtr("EnemyFrig02"), 3)) || (kasfRenderedShips(kasAITeamShipsPtr("ImNotDeadYet"), 3)))
	{
	kasJump("LBXIn2", Init_Mission03_ImNotHere_LBXIn2, Watch_Mission03_ImNotHere_LBXIn2);
	return;
	}
	
}


//
//  "initialize" code for Mission03 ImNotHere LBXIn2 state
//
void Init_Mission03_ImNotHere_LBXIn2(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(kasfWideScreenIn(90), 0);
	(kasfTimerCreateSetStart("LBXTimer", 3), 0);
	
}


//
//  "watch" code for Mission03 ImNotHere LBXIn2 state
//
void Watch_Mission03_ImNotHere_LBXIn2(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((kasfTimerExpiredDestroy("LBXTimer")))
	{
	kasJump("AckTheyreAttackingCryos", Init_Mission03_ImNotHere_AckTheyreAttackingCryos, Watch_Mission03_ImNotHere_AckTheyreAttackingCryos);
	return;
	}
	
}


//
//  "initialize" code for Mission03 ImNotHere AckTheyreAttackingCryos state
//
void Init_Mission03_ImNotHere_AckTheyreAttackingCryos(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(kasfSoundEvent(262), 0);
	(kasfSpeechEvent((433 + 4096 + 268435456), 0), 0);
	(kasfTutCameraFocus(kasAITeamShipsPtr("EnemyFrig01")), 0);
	(kasfTimerCreateSetStart("Focus", 4), 0);
	(kasfTutResetGameMessageQueue(), 0);
	
}


//
//  "watch" code for Mission03 ImNotHere AckTheyreAttackingCryos state
//
void Watch_Mission03_ImNotHere_AckTheyreAttackingCryos(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if (kasfTutGameSentMessage("Game_BandBoxFocus, Game_ClickFocus, KB_CancelFocus, KB_Focus, KB_Sensors, TB_SensorsManager"))
	{
	(kasfVarCreateSet("Skip", 1), 0);
	(kasfWideScreenOut(90), 0);
	}
	if (kasfIntelEventEnded())
	{
	if (!kasfVarValueGet("Skip"))
	{
	(kasfTutCameraFocusCancel(), 0);
	(kasfWideScreenOut(90), 0);
	}
	else
	{
	(kasfVarDestroy("Skip"), 0);
	}
	kasJump("KillThosePoopyHeads", Init_Mission03_ImNotHere_KillThosePoopyHeads, Watch_Mission03_ImNotHere_KillThosePoopyHeads);
	return;
	}
	
}


//
//  "initialize" code for Mission03 ImNotHere KillThosePoopyHeads state
//
void Init_Mission03_ImNotHere_KillThosePoopyHeads(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(kasfSpeechEvent((434 + 4096 + 268435456), 0), 0);
	(kasfTimerCreateSetStart("Pointers", 6), 0);
	(kasfObjectiveCreate("CaptureOne", LSTRING_OBObjective1[strCurLanguage], "fleet command 3.3"), 0);
	(kasfVarCreateSet("ObjectiveCreated", 1), 0);
	
}


//
//  "watch" code for Mission03 ImNotHere KillThosePoopyHeads state
//
void Watch_Mission03_ImNotHere_KillThosePoopyHeads(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if (kasfTimerExpiredDestroy("Pointers"))
	{
	(kasfSoundEvent(262), 0);
	(kasfTutSetPointerTargetShip("Attackers", kasAITeamShipsPtr("EnemyFrig01")), 0);
	}
	if (kasfIntelEventEnded())
	{
	(kasfTutRemoveAllPointers(), 0);
	kasJump("NullState", Init_Mission03_ImNotHere_NullState, Watch_Mission03_ImNotHere_NullState);
	return;
	}
	
}


//
//  "initialize" code for Mission03 ImNotHere LBXIn3 state
//
void Init_Mission03_ImNotHere_LBXIn3(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(kasfWideScreenIn(90), 0);
	(kasfTimerCreateSetStart("LBXTimer", 3), 0);
	
}


//
//  "watch" code for Mission03 ImNotHere LBXIn3 state
//
void Watch_Mission03_ImNotHere_LBXIn3(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((kasfTimerRemaining("LBXTimer") == 0))
	{
	(kasfOpenSensors(27000), 0);
	kasJump("FrigatesOutOfThePicture", Init_Mission03_ImNotHere_FrigatesOutOfThePicture, Watch_Mission03_ImNotHere_FrigatesOutOfThePicture);
	return;
	}
	
}


//
//  "initialize" code for Mission03 ImNotHere FrigatesOutOfThePicture state
//
void Init_Mission03_ImNotHere_FrigatesOutOfThePicture(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(kasfUniversePause(), 0);
	(kasfSpeechEvent((760 + 4096 + 268435456), 0), 0);
	(kasfTimerCreateSetStart("Pointers", 2), 0);
	(kasfObjectiveCreate("GoForCryos", LSTRING_OBSalvageCryos[strCurLanguage], "fleet command 3.3"), 0);
	
}


//
//  "watch" code for Mission03 ImNotHere FrigatesOutOfThePicture state
//
void Watch_Mission03_ImNotHere_FrigatesOutOfThePicture(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if (kasfTimerExpiredDestroy("Pointers"))
	{
	(kasfTutSetPointerTargetShip("Cryos", kasGrowSelectionPtr("CryoTrays")), 0);
	}
	(kasfVarValueSet("Intel", kasfIntelEventEnded()), 0);
	if (kasfVarValueGet("Intel") == 1)
	{
	(kasfTimerCreateSetStart("SinkIn", 2), 0);
	(kasfVarValueSet("Intel", 0), 0);
	}
	if (kasfTimerExpiredDestroy("SinkIn") || (kasfVarValueGet("Intel") == 2))
	{
	(kasfVarValueSet("Intel", 0), 0);
	(kasfCloseSensors(1), 0);
	(kasfTutRemoveAllPointers(), 0);
	(kasfWideScreenOut(90), 0);
	(kasfUniverseUnpause(), 0);
	if (kasfVarValueGet("Replay"))
	{
	(kasfVarDestroy("Replay"), 0);
	kasJump("NullState", Init_Mission03_ImNotHere_NullState, Watch_Mission03_ImNotHere_NullState);
	return;
	}
	kasJump("SaveThoseCryos", Init_Mission03_ImNotHere_SaveThoseCryos, Watch_Mission03_ImNotHere_SaveThoseCryos);
	return;
	}
	
}


//
//  "initialize" code for Mission03 ImNotHere SaveThoseCryos state
//
void Init_Mission03_ImNotHere_SaveThoseCryos(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(kasfSpeechEvent((435 + 2048 + 268435456), 0), 0);
	
}


//
//  "watch" code for Mission03 ImNotHere SaveThoseCryos state
//
void Watch_Mission03_ImNotHere_SaveThoseCryos(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if (kasfIntelEventEnded())
	{
	kasJump("NullState", Init_Mission03_ImNotHere_NullState, Watch_Mission03_ImNotHere_NullState);
	return;
	}
	
}


//
//  "initialize" code for Mission03 ImNotHere LBXIn4 state
//
void Init_Mission03_ImNotHere_LBXIn4(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(kasfWideScreenIn(90), 0);
	(kasfTimerCreateSetStart("LBXTimer", 5), 0);
	
}


//
//  "watch" code for Mission03 ImNotHere LBXIn4 state
//
void Watch_Mission03_ImNotHere_LBXIn4(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if (kasfTimerRemaining("LBXTimer") == 1)
	{
	kasJump("GotTheBastard", Init_Mission03_ImNotHere_GotTheBastard, Watch_Mission03_ImNotHere_GotTheBastard);
	return;
	}
	
}


//
//  "initialize" code for Mission03 ImNotHere GotTheBastard state
//
void Init_Mission03_ImNotHere_GotTheBastard(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(kasfIntelEventNotEnded(), 0);
	(kasfSpeechEvent((436 + 4096 + 268435456), 0), 0);
	(kasfTimerCreateSetStart("LBX", 10), 0);
	
}


//
//  "watch" code for Mission03 ImNotHere GotTheBastard state
//
void Watch_Mission03_ImNotHere_GotTheBastard(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if (kasfTimerExpiredDestroy("LBX"))
	{
	(kasfWideScreenIn(90), 0);
	}
	if (kasfIntelEventEnded())
	{
	kasJump("HeyCheckThisOut", Init_Mission03_ImNotHere_HeyCheckThisOut, Watch_Mission03_ImNotHere_HeyCheckThisOut);
	return;
	}
	
}


//
//  "initialize" code for Mission03 ImNotHere HeyCheckThisOut state
//
void Init_Mission03_ImNotHere_HeyCheckThisOut(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(kasfUniversePause(), 0);
	(kasfVarCreateSet("PlayNis", 3), 0);
	
}


//
//  "watch" code for Mission03 ImNotHere HeyCheckThisOut state
//
void Watch_Mission03_ImNotHere_HeyCheckThisOut(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if (kasfVarValueGet("G_Nis3Complete"))
	{
	(kasfVarValueSet("G_Nis3Complete", 0), 0);
	(kasfUniverseUnpause(), 0);
	(kasfTimerCreateSetStart("AnalysePause", 5), 0);
	}
	if (kasfTimerExpiredDestroy("AnalysePause"))
	{
	kasJump("ThoseGuysAreGonnaGetIt", Init_Mission03_ImNotHere_ThoseGuysAreGonnaGetIt, Watch_Mission03_ImNotHere_ThoseGuysAreGonnaGetIt);
	return;
	}
	
}


//
//  "initialize" code for Mission03 ImNotHere ThoseGuysAreGonnaGetIt state
//
void Init_Mission03_ImNotHere_ThoseGuysAreGonnaGetIt(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(kasfSpeechEvent((462 + 4096 + 268435456), 0), 0);
	
}


//
//  "watch" code for Mission03 ImNotHere ThoseGuysAreGonnaGetIt state
//
void Watch_Mission03_ImNotHere_ThoseGuysAreGonnaGetIt(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if (kasfIntelEventEnded())
	{
	(kasfTimerCreateSetStart("StealingTechnology", 10), 0);
	}
	if (kasfTimerExpiredDestroy("StealingTechnology"))
	{
	kasJump("WeStoleTheirTechnology", Init_Mission03_ImNotHere_WeStoleTheirTechnology, Watch_Mission03_ImNotHere_WeStoleTheirTechnology);
	return;
	}
	
}


//
//  "initialize" code for Mission03 ImNotHere WeStoleTheirTechnology state
//
void Init_Mission03_ImNotHere_WeStoleTheirTechnology(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(kasfSoundEvent(262), 0);
	(kasfSpeechEvent((463 + 4096 + 268435456), 0), 0);
	
}


//
//  "watch" code for Mission03 ImNotHere WeStoleTheirTechnology state
//
void Watch_Mission03_ImNotHere_WeStoleTheirTechnology(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if (kasfIntelEventEnded())
	{
	kasJump("NullState", Init_Mission03_ImNotHere_NullState, Watch_Mission03_ImNotHere_NullState);
	return;
	}
	
}


//
//  "initialize" code for Mission03 ImNotHere WithdrawToSalvage state
//
void Init_Mission03_ImNotHere_WithdrawToSalvage(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(kasfSoundEvent(262), 0);
	(kasfSpeechEvent((469 + 4096 + 268435456), 0), 0);
	
}


//
//  "watch" code for Mission03 ImNotHere WithdrawToSalvage state
//
void Watch_Mission03_ImNotHere_WithdrawToSalvage(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	kasJump("NullState", Init_Mission03_ImNotHere_NullState, Watch_Mission03_ImNotHere_NullState);
	return;
	
}


//
//  "initialize" code for Mission03 ImNotHere FrigatesDiedEscaped state
//
void Init_Mission03_ImNotHere_FrigatesDiedEscaped(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "watch" code for Mission03 ImNotHere FrigatesDiedEscaped state
//
void Watch_Mission03_ImNotHere_FrigatesDiedEscaped(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(kasfMissionFailed(), 0);
	kasJump("NullState", Init_Mission03_ImNotHere_NullState, Watch_Mission03_ImNotHere_NullState);
	return;
	
}


//
//  "initialize" code for Mission03 ImNotHere YayCryoSalvaged state
//
void Init_Mission03_ImNotHere_YayCryoSalvaged(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(kasfSoundEvent(262), 0);
	if (kasfVarValueGet("CryosSalvaged") == 1)
	{
	(kasfSpeechEvent((464 + 2048 + 268435456), 0), 0);
	}
	else if (kasfVarValueGet("CryosSalvaged") == 2)
	{
	(kasfSpeechEvent((465 + 2048 + 268435456), 0), 0);
	}
	else if (kasfVarValueGet("CryosSalvaged") == 3)
	{
	(kasfSpeechEvent((466 + 2048 + 268435456), 0), 0);
	}
	else if (kasfVarValueGet("CryosSalvaged") == 4)
	{
	(kasfSpeechEvent((467 + 2048 + 268435456), 0), 0);
	}
	else if (kasfVarValueGet("CryosSalvaged") == 5)
	{
	(kasfSpeechEvent((468 + 2048 + 268435456), 0), 0);
	}
	
}


//
//  "watch" code for Mission03 ImNotHere YayCryoSalvaged state
//
void Watch_Mission03_ImNotHere_YayCryoSalvaged(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if (kasfIntelEventEnded())
	{
	if (!kasfShipsCount(kasGrowSelectionPtr("CryoTrays")))
	{
	kasJump("YayWereDone", Init_Mission03_ImNotHere_YayWereDone, Watch_Mission03_ImNotHere_YayWereDone);
	return;
	}
	else
	{
	kasJump("NullState", Init_Mission03_ImNotHere_NullState, Watch_Mission03_ImNotHere_NullState);
	return;
	}
	}
	
}


//
//  "initialize" code for Mission03 ImNotHere CryosDead state
//
void Init_Mission03_ImNotHere_CryosDead(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "watch" code for Mission03 ImNotHere CryosDead state
//
void Watch_Mission03_ImNotHere_CryosDead(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(kasfMissionFailed(), 0);
	kasJump("NullState", Init_Mission03_ImNotHere_NullState, Watch_Mission03_ImNotHere_NullState);
	return;
	
}


//
//  "initialize" code for Mission03 ImNotHere LBXIn5 state
//
void Init_Mission03_ImNotHere_LBXIn5(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(kasfWideScreenIn(90), 0);
	(kasfTimerCreateSetStart("LBXTimer", 5), 0);
	
}


//
//  "watch" code for Mission03 ImNotHere LBXIn5 state
//
void Watch_Mission03_ImNotHere_LBXIn5(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if (kasfTimerRemaining("LBXTimer") == 1)
	{
	kasJump("YayWereDone", Init_Mission03_ImNotHere_YayWereDone, Watch_Mission03_ImNotHere_YayWereDone);
	return;
	}
	
}


//
//  "initialize" code for Mission03 ImNotHere YayWereDone state
//
void Init_Mission03_ImNotHere_YayWereDone(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(kasfSpeechEvent((470 + 4096 + 268435456), 0), 0);
	(kasfObjectiveSet("GoForCryos", 1), 0);
	
}


//
//  "watch" code for Mission03 ImNotHere YayWereDone state
//
void Watch_Mission03_ImNotHere_YayWereDone(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if (kasfIntelEventEnded())
	{
	kasJump("NullState", Init_Mission03_ImNotHere_NullState, Watch_Mission03_ImNotHere_NullState);
	return;
	}
	
}


//
//  "initialize" code for Mission03 ImNotHere NullState state
//
void Init_Mission03_ImNotHere_NullState(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(kasfVarValueSet("InNullState", 1), 0);
	
}


//
//  "watch" code for Mission03 ImNotHere NullState state
//
void Watch_Mission03_ImNotHere_NullState(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "initialize" code for Mission03 ImNotHereEither FSM
//
void Init_Mission03_ImNotHereEither(void)
{
	CurrentMissionScope = KAS_SCOPE_FSM;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	kasJump("NullState", Init_Mission03_ImNotHereEither_NullState, Watch_Mission03_ImNotHereEither_NullState);
	return;
	
}


//
//  "watch" code for Mission03 ImNotHereEither FSM
//
void Watch_Mission03_ImNotHereEither(void)
{
	CurrentMissionScope = KAS_SCOPE_FSM;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "initialize" code for Mission03 ImNotHereEither NullState state
//
void Init_Mission03_ImNotHereEither_NullState(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "watch" code for Mission03 ImNotHereEither NullState state
//
void Watch_Mission03_ImNotHereEither_NullState(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "initialize" code for Mission03 EnemyFrig01 FSM
//
void Init_Mission03_EnemyFrig01(void)
{
	CurrentMissionScope = KAS_SCOPE_FSM;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(kasfTimerCreate("AttackTimer"), 0);
	(kasfTacticsAggressive(), 0);
	kasJump("AttackCryoTrays", Init_Mission03_EnemyFrig01_AttackCryoTrays, Watch_Mission03_EnemyFrig01_AttackCryoTrays);
	return;
	
}


//
//  "watch" code for Mission03 EnemyFrig01 FSM
//
void Watch_Mission03_EnemyFrig01(void)
{
	CurrentMissionScope = KAS_SCOPE_FSM;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if (!kasfVarValueGet("InNULLState") && !kasfVarValueGet("G_Escaping"))
	{
	if (!kasfVarValueGet("G_SalCapNearby"))
	{
	kasfFindEnemiesNearTeam(kasGrowSelectionPtr("SalCapTest"), 8000);
	kasfFindEnemiesNearby(kasGrowSelectionPtr("SalCapTest"), 2500);
	if (kasfShipsSelectType(kasGrowSelectionPtr("SalCaps"), kasGrowSelectionPtr("SalCapTest"), "SalCapCorvette") == 1)
	{
	(kasfVarValueSet("G_SalCapNearby", 1), 0);
	(kasfTimerCreateSetStart("SalCapTimer", 4), 0);
	}
	}
	if (kasfTimerExpiredDestroy("SalCapTimer"))
	{
	kasfFindEnemiesNearTeam(kasGrowSelectionPtr("SalCapTest"), 8000);
	kasfFindEnemiesNearby(kasGrowSelectionPtr("SalCapTest"), 2500);
	(kasfVarCreateSet("NumSalCaps", kasfShipsSelectType(kasGrowSelectionPtr("SalCaps"), kasGrowSelectionPtr("SalCapTest"), "SalCapCorvette")), 0);
	if (kasfVarValueGet("NumSalCaps") == 1)
	{
	(kasfSpeechEventShips(kasGrowSelectionPtr("SalCaps"), (807 + 1024 + 268435456), 0), 0);
	(kasfTimerCreateSetStart("G_SalCapNearbyRepeat", 40), 0);
	}
	else if (!kasfVarValueGet("NumSalCaps"))
	{
	(kasfVarValueSet("G_SalCapNearby", 0), 0);
	}
	}
	if (!kasfVarValueGet("_VIFONCE009") && (kasfTeamCount() == 0)) // "ifonce" #9
	{
	kasfVarCreateSet("_VIFONCE009", 1);
	kasJump("NullState", Init_Mission03_EnemyFrig01_NullState, Watch_Mission03_EnemyFrig01_NullState);
	return;
	}
	if (!kasfVarValueGet("_VIFONCE010") && (kasfTeamHealthAverage() < 50)) // "ifonce" #10
	{
	kasfVarCreateSet("_VIFONCE010", 1);
	(kasfVarCreateSet("G_HelpEnemyFrig01", 1), 0);
	}
	if (!kasfVarValueGet("_VIFONCE011") && ((kasfShipsCount(kasAITeamShipsPtr("EnemyFrig02")) == 0) && (kasfShipsCount(kasAITeamShipsPtr("ImNotDeadYet")) == 0) && (kasfTeamHealthAverage() < 30))) // "ifonce" #11
	{
	kasfVarCreateSet("_VIFONCE011", 1);
	kasJump("Escape", Init_Mission03_EnemyFrig01_Escape, Watch_Mission03_EnemyFrig01_Escape);
	return;
	}
	if (!kasfVarValueGet("G_EnemyFrig01Captured") && kasfShipsSelectSpecial(kasGrowSelectionPtr("Captured"), kasAITeamShipsPtr("EnemyFrig01"), 2))
	{
	(kasfVarCreateSet("G_EnemyFrig01Captured", 1), 0);
	kasfFindEnemiesNearTeam(kasGrowSelectionPtr("E1Capturers"), 500);
	kasfShipsSelectType(kasGrowSelectionPtr("E1Capturers"), kasGrowSelectionPtr("E1Capturers"), "SalCapCorvette");
	kasJump("ImCaptured", Init_Mission03_EnemyFrig01_ImCaptured, Watch_Mission03_EnemyFrig01_ImCaptured);
	return;
	}
	}
	
}


//
//  "initialize" code for Mission03 EnemyFrig01 AttackMain state
//
void Init_Mission03_EnemyFrig01_AttackMain(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(kasfTimerSet("AttackTimer", kasfRandom(4, 10)), 0);
	(kasfTimerStart("AttackTimer"), 0);
	if (kasfVarValueGet("G_EnemyFrig02Captured"))
	{
	(kasfVarCreateSet("G_EF1BusySalCap", 1), 0);
	kasfShipsAdd(kasGrowSelectionPtr("E1Capturers"), kasGrowSelectionPtr("E2Capturers"));
	kasJump("AttackSalCap", Init_Mission03_EnemyFrig01_AttackSalCap, Watch_Mission03_EnemyFrig01_AttackSalCap);
	return;
	}
	if (kasfVarValueGet("G_ImNotDeadYetCaptured"))
	{
	(kasfVarCreateSet("G_EF1BusySalCap", 1), 0);
	kasfShipsAdd(kasGrowSelectionPtr("E1Capturers"), kasGrowSelectionPtr("INDYCapturers"));
	kasJump("AttackSalCap", Init_Mission03_EnemyFrig01_AttackSalCap, Watch_Mission03_EnemyFrig01_AttackSalCap);
	return;
	}
	kasfFindEnemiesNearTeam(kasGrowSelectionPtr("Nearby"), 5000);
	if ((kasfVarValueGet("G_SalcapKilled") < 7) && kasfShipsSelectType(kasGrowSelectionPtr("E1Capturers"), kasGrowSelectionPtr("Nearby"), "SalCapCorvette"))
	{
	kasJump("AttackSalCap", Init_Mission03_EnemyFrig01_AttackSalCap, Watch_Mission03_EnemyFrig01_AttackSalCap);
	return;
	}
	if (kasfUnderAttackElsewhere(kasAITeamPtr("ImNotDeadYet"), kasGrowSelectionPtr("BadDudes")) || kasfUnderAttackElsewhere(kasAITeamPtr("EnemyFrig02"), kasGrowSelectionPtr("BadDudes")))
	{
	kasJump("ProtectFrigates", Init_Mission03_EnemyFrig01_ProtectFrigates, Watch_Mission03_EnemyFrig01_ProtectFrigates);
	return;
	}
	if (kasfShipsSelectClass(kasGrowSelectionPtr("E1CorvetteBaddies"), kasGrowSelectionPtr("Nearby"), "CLASS_Corvette") > 2)
	{
	if (kasfShipsCount(kasGrowSelectionPtr("E1CorvetteBaddies")) < 7)
	{
	(kasfVarValueSet("G_EF1BusyCorvettes", 1), 0);
	}
	kasJump("AttackCorvettes", Init_Mission03_EnemyFrig01_AttackCorvettes, Watch_Mission03_EnemyFrig01_AttackCorvettes);
	return;
	}
	if (kasfShipsSelectClass(kasGrowSelectionPtr("E1FighterBaddies"), kasGrowSelectionPtr("Nearby"), "CLASS_Fighter") > 6)
	{
	if (kasfShipsCount(kasGrowSelectionPtr("E1FighterBaddies")) < 10)
	{
	(kasfVarValueSet("G_EF1BusyFighters", 1), 0);
	}
	kasJump("AttackFighters", Init_Mission03_EnemyFrig01_AttackFighters, Watch_Mission03_EnemyFrig01_AttackFighters);
	return;
	}
	kasJump("AttackCryoTrays", Init_Mission03_EnemyFrig01_AttackCryoTrays, Watch_Mission03_EnemyFrig01_AttackCryoTrays);
	return;
	
}


//
//  "watch" code for Mission03 EnemyFrig01 AttackMain state
//
void Watch_Mission03_EnemyFrig01_AttackMain(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	kasJump("AttackMain", Init_Mission03_EnemyFrig01_AttackMain, Watch_Mission03_EnemyFrig01_AttackMain);
	return;
	
}


//
//  "initialize" code for Mission03 EnemyFrig01 ProtectFrigates state
//
void Init_Mission03_EnemyFrig01_ProtectFrigates(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(kasfAttack(kasGrowSelectionPtr("BadDudes")), 0);
	
}


//
//  "watch" code for Mission03 EnemyFrig01 ProtectFrigates state
//
void Watch_Mission03_EnemyFrig01_ProtectFrigates(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if (!kasfShipsCount(kasGrowSelectionPtr("BadDudes")) || (kasfTimerRemaining("AttackTimer") == 0))
	{
	kasJump("AttackMain", Init_Mission03_EnemyFrig01_AttackMain, Watch_Mission03_EnemyFrig01_AttackMain);
	return;
	}
	
}


//
//  "initialize" code for Mission03 EnemyFrig01 AttackCryoTrays state
//
void Init_Mission03_EnemyFrig01_AttackCryoTrays(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if (kasfShipsCount(kasAITeamShipsPtr("CryoTray10")))
	{
	(kasfAttack(kasAITeamShipsPtr("CryoTray10")), 0);
	kasfShipsAdd(kasGrowSelectionPtr("AttackTargets01"), kasAITeamShipsPtr("CryoTray10"));
	}
	else if (kasfShipsCount(kasAITeamShipsPtr("CryoTray09")))
	{
	(kasfAttack(kasAITeamShipsPtr("CryoTray09")), 0);
	kasfShipsAdd(kasGrowSelectionPtr("AttackTargets01"), kasAITeamShipsPtr("CryoTray09"));
	}
	else if (kasfShipsCount(kasAITeamShipsPtr("CryoTray08")))
	{
	(kasfAttack(kasAITeamShipsPtr("CryoTray08")), 0);
	kasfShipsAdd(kasGrowSelectionPtr("AttackTargets01"), kasAITeamShipsPtr("CryoTray08"));
	}
	else if (kasfShipsCount(kasAITeamShipsPtr("CryoTray07")))
	{
	(kasfAttack(kasAITeamShipsPtr("CryoTray07")), 0);
	kasfShipsAdd(kasGrowSelectionPtr("AttackTargets01"), kasAITeamShipsPtr("CryoTray07"));
	}
	else if (kasfShipsCount(kasAITeamShipsPtr("CryoTray06")))
	{
	(kasfAttack(kasAITeamShipsPtr("CryoTray06")), 0);
	kasfShipsAdd(kasGrowSelectionPtr("AttackTargets01"), kasAITeamShipsPtr("CryoTray06"));
	}
	else if (kasfShipsCount(kasAITeamShipsPtr("CryoTray05")))
	{
	(kasfAttack(kasAITeamShipsPtr("CryoTray05")), 0);
	kasfShipsAdd(kasGrowSelectionPtr("AttackTargets01"), kasAITeamShipsPtr("CryoTray05"));
	}
	else if (kasfShipsCount(kasAITeamShipsPtr("CryoTray04")))
	{
	(kasfAttack(kasAITeamShipsPtr("CryoTray04")), 0);
	kasfShipsAdd(kasGrowSelectionPtr("AttackTargets01"), kasAITeamShipsPtr("CryoTray04"));
	}
	else if (kasfShipsCount(kasAITeamShipsPtr("CryoTray03")))
	{
	(kasfAttack(kasAITeamShipsPtr("CryoTray03")), 0);
	kasfShipsAdd(kasGrowSelectionPtr("AttackTargets01"), kasAITeamShipsPtr("CryoTray03"));
	}
	else if (kasfShipsCount(kasAITeamShipsPtr("CryoTray02")))
	{
	(kasfAttack(kasAITeamShipsPtr("CryoTray02")), 0);
	kasfShipsAdd(kasGrowSelectionPtr("AttackTargets01"), kasAITeamShipsPtr("CryoTray02"));
	}
	else if (kasfShipsCount(kasAITeamShipsPtr("CryoTray01")))
	{
	(kasfAttack(kasAITeamShipsPtr("CryoTray01")), 0);
	kasfShipsAdd(kasGrowSelectionPtr("AttackTargets01"), kasAITeamShipsPtr("CryoTray01"));
	}
	else
	{
	kasJump("Escape", Init_Mission03_EnemyFrig01_Escape, Watch_Mission03_EnemyFrig01_Escape);
	return;
	}
	
}


//
//  "watch" code for Mission03 EnemyFrig01 AttackCryoTrays state
//
void Watch_Mission03_EnemyFrig01_AttackCryoTrays(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((kasfShipsCount(kasGrowSelectionPtr("AttackTargets01")) == 0) || (kasfTimerRemaining("AttackTimer") == 0))
	{
	kasJump("AttackMain", Init_Mission03_EnemyFrig01_AttackMain, Watch_Mission03_EnemyFrig01_AttackMain);
	return;
	}
	
}


//
//  "initialize" code for Mission03 EnemyFrig01 AttackSalCap state
//
void Init_Mission03_EnemyFrig01_AttackSalCap(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(kasfAttack(kasGrowSelectionPtr("E1Capturers")), 0);
	
}


//
//  "watch" code for Mission03 EnemyFrig01 AttackSalCap state
//
void Watch_Mission03_EnemyFrig01_AttackSalCap(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((kasfShipsCount(kasGrowSelectionPtr("E1Capturers")) == 0) || (kasfTimerRemaining("AttackTimer") == 0))
	{
	(kasfVarDestroy("G_EF1BusySalCap"), 0);
	kasJump("AttackMain", Init_Mission03_EnemyFrig01_AttackMain, Watch_Mission03_EnemyFrig01_AttackMain);
	return;
	}
	
}


//
//  "initialize" code for Mission03 EnemyFrig01 AttackCorvettes state
//
void Init_Mission03_EnemyFrig01_AttackCorvettes(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(kasfAttack(kasGrowSelectionPtr("E1CorvetteBaddies")), 0);
	
}


//
//  "watch" code for Mission03 EnemyFrig01 AttackCorvettes state
//
void Watch_Mission03_EnemyFrig01_AttackCorvettes(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((kasfShipsCount(kasGrowSelectionPtr("E1CorvetteBaddies")) == 0) || (kasfTimerRemaining("AttackTimer") == 0))
	{
	(kasfVarDestroy("G_EF1BusyCorvettes"), 0);
	kasJump("AttackMain", Init_Mission03_EnemyFrig01_AttackMain, Watch_Mission03_EnemyFrig01_AttackMain);
	return;
	}
	
}


//
//  "initialize" code for Mission03 EnemyFrig01 AttackFighters state
//
void Init_Mission03_EnemyFrig01_AttackFighters(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(kasfAttack(kasGrowSelectionPtr("E1FighterBaddies")), 0);
	
}


//
//  "watch" code for Mission03 EnemyFrig01 AttackFighters state
//
void Watch_Mission03_EnemyFrig01_AttackFighters(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((kasfShipsCount(kasGrowSelectionPtr("E1FighterBaddies")) == 0) || (kasfTimerRemaining("AttackTimer") == 0))
	{
	(kasfVarDestroy("G_EF1BusyFighters"), 0);
	kasJump("AttackMain", Init_Mission03_EnemyFrig01_AttackMain, Watch_Mission03_EnemyFrig01_AttackMain);
	return;
	}
	
}


//
//  "initialize" code for Mission03 EnemyFrig01 ImCaptured state
//
void Init_Mission03_EnemyFrig01_ImCaptured(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "watch" code for Mission03 EnemyFrig01 ImCaptured state
//
void Watch_Mission03_EnemyFrig01_ImCaptured(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if (!kasfShipsSelectSpecial(kasGrowSelectionPtr("Captured"), kasAITeamShipsPtr("ImNotDeadYet"), 2))
	{
	(kasfVarDestroy("G_EnemyFrig01Captured"), 0);
	kasJump("AttackMain", Init_Mission03_EnemyFrig01_AttackMain, Watch_Mission03_EnemyFrig01_AttackMain);
	return;
	}
	
}


//
//  "initialize" code for Mission03 EnemyFrig01 Escape state
//
void Init_Mission03_EnemyFrig01_Escape(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(kasfTacticsEvasive(), 0);
	(kasfTeamSetMaxVelocity(150), 0);
	(kasfMoveTo(kasVectorPtr("DiddleOutHere")), 0);
	(kasfVarCreateSet("G_Escaping", 1), 0);
	
}


//
//  "watch" code for Mission03 EnemyFrig01 Escape state
//
void Watch_Mission03_EnemyFrig01_Escape(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if (kasfNearby(kasVectorPtr("DiddleOutHere"), 1000))
	{
	(kasfVarCreateSet("G_EnemyFrig01Escaped", 1), 0);
	(kasfStop(), 0);
	(kasfTeamHyperspaceOut(), 0);
	kasJump("NullState", Init_Mission03_EnemyFrig01_NullState, Watch_Mission03_EnemyFrig01_NullState);
	return;
	}
	
}


//
//  "initialize" code for Mission03 EnemyFrig01 NullState state
//
void Init_Mission03_EnemyFrig01_NullState(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(kasfVarCreateSet("InNULLState", 1), 0);
	
}


//
//  "watch" code for Mission03 EnemyFrig01 NullState state
//
void Watch_Mission03_EnemyFrig01_NullState(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "initialize" code for Mission03 EnemyFrig02 FSM
//
void Init_Mission03_EnemyFrig02(void)
{
	CurrentMissionScope = KAS_SCOPE_FSM;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(kasfTimerCreate("AttackTimer"), 0);
	(kasfTacticsAggressive(), 0);
	kasJump("AttackCryoTrays", Init_Mission03_EnemyFrig02_AttackCryoTrays, Watch_Mission03_EnemyFrig02_AttackCryoTrays);
	return;
	
}


//
//  "watch" code for Mission03 EnemyFrig02 FSM
//
void Watch_Mission03_EnemyFrig02(void)
{
	CurrentMissionScope = KAS_SCOPE_FSM;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if (!kasfVarValueGet("InNULLState") && !kasfVarValueGet("G_Escaping"))
	{
	if (!kasfVarValueGet("G_SalCapNearby"))
	{
	kasfFindEnemiesNearTeam(kasGrowSelectionPtr("SalCapTest"), 8000);
	kasfFindEnemiesNearby(kasGrowSelectionPtr("SalCapTest"), 2500);
	if (kasfShipsSelectType(kasGrowSelectionPtr("SalCaps"), kasGrowSelectionPtr("SalCapTest"), "SalCapCorvette") == 1)
	{
	(kasfVarValueSet("G_SalCapNearby", 1), 0);
	(kasfTimerCreateSetStart("SalCapTimer", 4), 0);
	}
	}
	if (kasfTimerExpiredDestroy("SalCapTimer"))
	{
	kasfFindEnemiesNearTeam(kasGrowSelectionPtr("SalCapTest"), 8000);
	kasfFindEnemiesNearby(kasGrowSelectionPtr("SalCapTest"), 2500);
	(kasfVarCreateSet("NumSalCaps", kasfShipsSelectType(kasGrowSelectionPtr("SalCaps"), kasGrowSelectionPtr("SalCapTest"), "SalCapCorvette")), 0);
	if (kasfVarValueGet("NumSalCaps") == 1)
	{
	(kasfSpeechEventShips(kasGrowSelectionPtr("SalCaps"), (807 + 1024 + 268435456), 0), 0);
	(kasfTimerCreateSetStart("G_SalCapNearbyRepeat", 40), 0);
	}
	else if (!kasfVarValueGet("NumSalCaps"))
	{
	(kasfVarValueSet("G_SalCapNearby", 0), 0);
	}
	}
	if (!kasfVarValueGet("_VIFONCE012") && ((kasfShipsCount(kasAITeamShipsPtr("EnemyFrig01")) == 0) && (kasfShipsCount(kasAITeamShipsPtr("ImNotDeadYet")) == 0) && (kasfTeamHealthAverage() < 30))) // "ifonce" #12
	{
	kasfVarCreateSet("_VIFONCE012", 1);
	kasJump("Escape", Init_Mission03_EnemyFrig02_Escape, Watch_Mission03_EnemyFrig02_Escape);
	return;
	}
	if (!kasfVarValueGet("_VIFONCE013") && (kasfTeamHealthAverage() < 50)) // "ifonce" #13
	{
	kasfVarCreateSet("_VIFONCE013", 1);
	(kasfVarCreateSet("G_HelpEnemyFrig01", 1), 0);
	}
	if (!kasfVarValueGet("_VIFONCE014") && (kasfTeamCount() == 0)) // "ifonce" #14
	{
	kasfVarCreateSet("_VIFONCE014", 1);
	kasJump("NullState", Init_Mission03_EnemyFrig02_NullState, Watch_Mission03_EnemyFrig02_NullState);
	return;
	}
	if (!kasfVarValueGet("G_EnemyFrig02Captured") && kasfShipsSelectSpecial(kasGrowSelectionPtr("Captured"), kasAITeamShipsPtr("EnemyFrig02"), 2))
	{
	(kasfVarCreateSet("G_EnemyFrig02Captured", 1), 0);
	kasfFindEnemiesNearTeam(kasGrowSelectionPtr("E2Capturers"), 500);
	kasfShipsSelectType(kasGrowSelectionPtr("E2Capturers"), kasGrowSelectionPtr("E2Capturers"), "SalCapCorvette");
	kasJump("ImCaptured", Init_Mission03_EnemyFrig02_ImCaptured, Watch_Mission03_EnemyFrig02_ImCaptured);
	return;
	}
	}
	
}


//
//  "initialize" code for Mission03 EnemyFrig02 AttackMain state
//
void Init_Mission03_EnemyFrig02_AttackMain(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(kasfTimerSet("AttackTimer", kasfRandom(6, 14)), 0);
	(kasfTimerStart("AttackTimer"), 0);
	if (kasfVarValueGet("G_HelpEnemyFrig01"))
	{
	if (kasfVarValueGet("G_ImNotDeadYetCaptured") && (!kasfShipsCount(kasAITeamShipsPtr("EnemyFrig01"))))
	{
	kasfShipsAdd(kasGrowSelectionPtr("E2Capturers"), kasGrowSelectionPtr("INDYCapturers"));
	kasJump("AttackSalCap", Init_Mission03_EnemyFrig02_AttackSalCap, Watch_Mission03_EnemyFrig02_AttackSalCap);
	return;
	}
	kasfFindEnemiesNearTeam(kasGrowSelectionPtr("Nearby"), 5000);
	kasfShipsSelectType(kasGrowSelectionPtr("E2Capturers"), kasGrowSelectionPtr("Nearby"), "SalCapCorvette");
	kasfShipsRemove(kasGrowSelectionPtr("Nearby"), kasGrowSelectionPtr("E2Capturers"));
	if ((kasfShipsSelectClass(kasGrowSelectionPtr("E2CorvetteBaddies"), kasGrowSelectionPtr("Nearby"), "CLASS_Corvette") > 2) && (!kasfVarValueGet("G_EF1BusyCorvettes")))
	{
	kasJump("AttackCorvettes", Init_Mission03_EnemyFrig02_AttackCorvettes, Watch_Mission03_EnemyFrig02_AttackCorvettes);
	return;
	}
	if ((kasfShipsSelectClass(kasGrowSelectionPtr("E2FighterBaddies"), kasGrowSelectionPtr("Nearby"), "CLASS_Fighter") > 6) && (!kasfVarValueGet("G_EF1BusyFighters")))
	{
	kasJump("AttackFighters", Init_Mission03_EnemyFrig02_AttackFighters, Watch_Mission03_EnemyFrig02_AttackFighters);
	return;
	}
	}
	kasJump("AttackCryoTrays", Init_Mission03_EnemyFrig02_AttackCryoTrays, Watch_Mission03_EnemyFrig02_AttackCryoTrays);
	return;
	
}


//
//  "watch" code for Mission03 EnemyFrig02 AttackMain state
//
void Watch_Mission03_EnemyFrig02_AttackMain(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	kasJump("AttackMain", Init_Mission03_EnemyFrig02_AttackMain, Watch_Mission03_EnemyFrig02_AttackMain);
	return;
	
}


//
//  "initialize" code for Mission03 EnemyFrig02 AttackCryoTrays state
//
void Init_Mission03_EnemyFrig02_AttackCryoTrays(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if (kasfShipsCount(kasAITeamShipsPtr("CryoTray10")))
	{
	(kasfAttack(kasAITeamShipsPtr("CryoTray10")), 0);
	kasfShipsAdd(kasGrowSelectionPtr("AttackTargets01"), kasAITeamShipsPtr("CryoTray10"));
	}
	else if (kasfShipsCount(kasAITeamShipsPtr("CryoTray09")))
	{
	(kasfAttack(kasAITeamShipsPtr("CryoTray09")), 0);
	kasfShipsAdd(kasGrowSelectionPtr("AttackTargets01"), kasAITeamShipsPtr("CryoTray09"));
	}
	else if (kasfShipsCount(kasAITeamShipsPtr("CryoTray08")))
	{
	(kasfAttack(kasAITeamShipsPtr("CryoTray08")), 0);
	kasfShipsAdd(kasGrowSelectionPtr("AttackTargets01"), kasAITeamShipsPtr("CryoTray08"));
	}
	else if (kasfShipsCount(kasAITeamShipsPtr("CryoTray07")))
	{
	(kasfAttack(kasAITeamShipsPtr("CryoTray07")), 0);
	kasfShipsAdd(kasGrowSelectionPtr("AttackTargets01"), kasAITeamShipsPtr("CryoTray07"));
	}
	else if (kasfShipsCount(kasAITeamShipsPtr("CryoTray06")))
	{
	(kasfAttack(kasAITeamShipsPtr("CryoTray06")), 0);
	kasfShipsAdd(kasGrowSelectionPtr("AttackTargets01"), kasAITeamShipsPtr("CryoTray06"));
	}
	else if (kasfShipsCount(kasAITeamShipsPtr("CryoTray05")))
	{
	(kasfAttack(kasAITeamShipsPtr("CryoTray05")), 0);
	kasfShipsAdd(kasGrowSelectionPtr("AttackTargets01"), kasAITeamShipsPtr("CryoTray05"));
	}
	else if (kasfShipsCount(kasAITeamShipsPtr("CryoTray04")))
	{
	(kasfAttack(kasAITeamShipsPtr("CryoTray04")), 0);
	kasfShipsAdd(kasGrowSelectionPtr("AttackTargets01"), kasAITeamShipsPtr("CryoTray04"));
	}
	else if (kasfShipsCount(kasAITeamShipsPtr("CryoTray03")))
	{
	(kasfAttack(kasAITeamShipsPtr("CryoTray03")), 0);
	kasfShipsAdd(kasGrowSelectionPtr("AttackTargets01"), kasAITeamShipsPtr("CryoTray03"));
	}
	else if (kasfShipsCount(kasAITeamShipsPtr("CryoTray02")))
	{
	(kasfAttack(kasAITeamShipsPtr("CryoTray02")), 0);
	kasfShipsAdd(kasGrowSelectionPtr("AttackTargets01"), kasAITeamShipsPtr("CryoTray02"));
	}
	else if (kasfShipsCount(kasAITeamShipsPtr("CryoTray01")))
	{
	(kasfAttack(kasAITeamShipsPtr("CryoTray01")), 0);
	kasfShipsAdd(kasGrowSelectionPtr("AttackTargets01"), kasAITeamShipsPtr("CryoTray01"));
	}
	else
	{
	kasJump("Escape", Init_Mission03_EnemyFrig02_Escape, Watch_Mission03_EnemyFrig02_Escape);
	return;
	}
	
}


//
//  "watch" code for Mission03 EnemyFrig02 AttackCryoTrays state
//
void Watch_Mission03_EnemyFrig02_AttackCryoTrays(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((kasfShipsCount(kasGrowSelectionPtr("AttackTargets01")) == 0) || (kasfTimerRemaining("AttackTimer") == 0))
	{
	kasJump("AttackMain", Init_Mission03_EnemyFrig02_AttackMain, Watch_Mission03_EnemyFrig02_AttackMain);
	return;
	}
	
}


//
//  "initialize" code for Mission03 EnemyFrig02 AttackSalCap state
//
void Init_Mission03_EnemyFrig02_AttackSalCap(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(kasfAttack(kasGrowSelectionPtr("E2Capturers")), 0);
	
}


//
//  "watch" code for Mission03 EnemyFrig02 AttackSalCap state
//
void Watch_Mission03_EnemyFrig02_AttackSalCap(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if (kasfShipsCount(kasGrowSelectionPtr("E2Capturers")) == 0)
	{
	kasJump("AttackMain", Init_Mission03_EnemyFrig02_AttackMain, Watch_Mission03_EnemyFrig02_AttackMain);
	return;
	}
	
}


//
//  "initialize" code for Mission03 EnemyFrig02 AttackCorvettes state
//
void Init_Mission03_EnemyFrig02_AttackCorvettes(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(kasfAttack(kasGrowSelectionPtr("E2CorvetteBaddies")), 0);
	
}


//
//  "watch" code for Mission03 EnemyFrig02 AttackCorvettes state
//
void Watch_Mission03_EnemyFrig02_AttackCorvettes(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((kasfShipsCount(kasGrowSelectionPtr("E2CorvetteBaddies")) == 0) || (kasfTimerRemaining("AttackTimer") == 0))
	{
	kasJump("AttackMain", Init_Mission03_EnemyFrig02_AttackMain, Watch_Mission03_EnemyFrig02_AttackMain);
	return;
	}
	
}


//
//  "initialize" code for Mission03 EnemyFrig02 AttackFighters state
//
void Init_Mission03_EnemyFrig02_AttackFighters(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(kasfAttack(kasGrowSelectionPtr("E2FighterBaddies")), 0);
	
}


//
//  "watch" code for Mission03 EnemyFrig02 AttackFighters state
//
void Watch_Mission03_EnemyFrig02_AttackFighters(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((kasfShipsCount(kasGrowSelectionPtr("E2FighterBaddies")) == 0) || (kasfTimerRemaining("AttackTimer") == 0))
	{
	kasJump("AttackMain", Init_Mission03_EnemyFrig02_AttackMain, Watch_Mission03_EnemyFrig02_AttackMain);
	return;
	}
	
}


//
//  "initialize" code for Mission03 EnemyFrig02 ImCaptured state
//
void Init_Mission03_EnemyFrig02_ImCaptured(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "watch" code for Mission03 EnemyFrig02 ImCaptured state
//
void Watch_Mission03_EnemyFrig02_ImCaptured(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if (!kasfShipsSelectSpecial(kasGrowSelectionPtr("Captured"), kasAITeamShipsPtr("ImNotDeadYet"), 2))
	{
	(kasfVarDestroy("G_EnemyFrig02Captured"), 0);
	kasJump("AttackMain", Init_Mission03_EnemyFrig02_AttackMain, Watch_Mission03_EnemyFrig02_AttackMain);
	return;
	}
	
}


//
//  "initialize" code for Mission03 EnemyFrig02 Escape state
//
void Init_Mission03_EnemyFrig02_Escape(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(kasfTacticsEvasive(), 0);
	(kasfTeamSetMaxVelocity(150), 0);
	(kasfMoveTo(kasVectorPtr("DiddleOutHere")), 0);
	(kasfVarCreateSet("G_Escaping", 1), 0);
	
}


//
//  "watch" code for Mission03 EnemyFrig02 Escape state
//
void Watch_Mission03_EnemyFrig02_Escape(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if (kasfNearby(kasVectorPtr("DiddleOutHere"), 1000))
	{
	(kasfVarCreateSet("G_EnemyFrig02Escaped", 1), 0);
	(kasfStop(), 0);
	(kasfTeamHyperspaceOut(), 0);
	kasJump("NullState", Init_Mission03_EnemyFrig02_NullState, Watch_Mission03_EnemyFrig02_NullState);
	return;
	}
	
}


//
//  "initialize" code for Mission03 EnemyFrig02 NullState state
//
void Init_Mission03_EnemyFrig02_NullState(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(kasfVarCreateSet("InNULLState", 1), 0);
	
}


//
//  "watch" code for Mission03 EnemyFrig02 NullState state
//
void Watch_Mission03_EnemyFrig02_NullState(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "initialize" code for Mission03 ImNotDeadYet FSM
//
void Init_Mission03_ImNotDeadYet(void)
{
	CurrentMissionScope = KAS_SCOPE_FSM;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(kasfTacticsAggressive(), 0);
	(kasfTeamSetPercentDamaged(40), 0);
	(kasfVarCreateSet("AvoidingFire", 0), 0);
	(kasfVarCreateSet("AttackReissued", 0), 0);
	kasJump("AttackCryoTrays", Init_Mission03_ImNotDeadYet_AttackCryoTrays, Watch_Mission03_ImNotDeadYet_AttackCryoTrays);
	return;
	
}


//
//  "watch" code for Mission03 ImNotDeadYet FSM
//
void Watch_Mission03_ImNotDeadYet(void)
{
	CurrentMissionScope = KAS_SCOPE_FSM;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if (!kasfVarValueGet("InNULLState") && !kasfVarValueGet("G_Escaping"))
	{
	if (!kasfVarValueGet("G_SalCapNearby"))
	{
	kasfFindEnemiesNearTeam(kasGrowSelectionPtr("SalCapTest"), 8000);
	kasfFindEnemiesNearby(kasGrowSelectionPtr("SalCapTest"), 2500);
	if (kasfShipsSelectType(kasGrowSelectionPtr("SalCaps"), kasGrowSelectionPtr("SalCapTest"), "SalCapCorvette") == 1)
	{
	(kasfVarValueSet("G_SalCapNearby", 1), 0);
	(kasfTimerCreateSetStart("SalCapTimer", 4), 0);
	}
	}
	if (kasfTimerExpiredDestroy("SalCapTimer"))
	{
	kasfFindEnemiesNearTeam(kasGrowSelectionPtr("SalCapTest"), 9000);
	kasfFindEnemiesNearby(kasGrowSelectionPtr("SalCapTest"), 2500);
	(kasfVarCreateSet("NumSalCaps", kasfShipsSelectType(kasGrowSelectionPtr("SalCaps"), kasGrowSelectionPtr("SalCapTest"), "SalCapCorvette")), 0);
	if (kasfVarValueGet("NumSalCaps") == 1)
	{
	(kasfSpeechEventShips(kasGrowSelectionPtr("SalCaps"), (807 + 1024 + 268435456), 0), 0);
	(kasfTimerCreateSetStart("G_SalCapNearbyRepeat", 40), 0);
	}
	else if (!kasfVarValueGet("NumSalCaps"))
	{
	(kasfVarValueSet("G_SalCapNearby", 0), 0);
	}
	}
	if ((!kasfVarValueGet("AvoidingFire")) && (kasfUnderAttack(kasGrowSelectionPtr("Null"))))
	{
	(kasfVarValueSet("AvoidingFire", 1), 0);
	(kasfVarValueSet("AttackReissued", 1), 0);
	}
	else if (kasfVarValueGet("AvoidingFire") && (!kasfUnderAttack(kasGrowSelectionPtr("Null"))))
	{
	(kasfVarValueSet("AvoidingFire", 0), 0);
	(kasfVarValueSet("AttackReissued", 1), 0);
	}
	if (!kasfVarValueGet("_VIFONCE015") && ((kasfShipsCount(kasAITeamShipsPtr("EnemyFrig01")) == 0) && (kasfShipsCount(kasAITeamShipsPtr("EnemyFrig02")) == 0) && (kasfTeamHealthAverage() < 30))) // "ifonce" #15
	{
	kasfVarCreateSet("_VIFONCE015", 1);
	kasJump("Escape", Init_Mission03_ImNotDeadYet_Escape, Watch_Mission03_ImNotDeadYet_Escape);
	return;
	}
	if (!kasfVarValueGet("_VIFONCE016") && (kasfTeamCount() == 0)) // "ifonce" #16
	{
	kasfVarCreateSet("_VIFONCE016", 1);
	kasJump("NullState", Init_Mission03_ImNotDeadYet_NullState, Watch_Mission03_ImNotDeadYet_NullState);
	return;
	}
	if (!kasfVarValueGet("G_ImNotDeadYetCaptured") && (kasfShipsSelectSpecial(kasGrowSelectionPtr("Captured"), kasAITeamShipsPtr("ImNotDeadYet"), 2)))
	{
	(kasfVarCreateSet("G_ImNotDeadYetCaptured", 1), 0);
	kasfFindEnemiesNearTeam(kasGrowSelectionPtr("INDYCapturers"), 500);
	kasfShipsSelectType(kasGrowSelectionPtr("INDYCapturers"), kasGrowSelectionPtr("INDYCapturers"), "SalCapCorvette");
	kasJump("ImCaptured", Init_Mission03_ImNotDeadYet_ImCaptured, Watch_Mission03_ImNotDeadYet_ImCaptured);
	return;
	}
	}
	
}


//
//  "initialize" code for Mission03 ImNotDeadYet AttackCryoTrays state
//
void Init_Mission03_ImNotDeadYet_AttackCryoTrays(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if (kasfShipsCount(kasAITeamShipsPtr("CryoTray10")))
	{
	kasfShipsAdd(kasGrowSelectionPtr("AttackTargets"), kasAITeamShipsPtr("CryoTray10"));
	}
	else if (kasfShipsCount(kasAITeamShipsPtr("CryoTray09")))
	{
	kasfShipsAdd(kasGrowSelectionPtr("AttackTargets"), kasAITeamShipsPtr("CryoTray09"));
	}
	else if (kasfShipsCount(kasAITeamShipsPtr("CryoTray08")))
	{
	kasfShipsAdd(kasGrowSelectionPtr("AttackTargets"), kasAITeamShipsPtr("CryoTray08"));
	}
	else if (kasfShipsCount(kasAITeamShipsPtr("CryoTray07")))
	{
	kasfShipsAdd(kasGrowSelectionPtr("AttackTargets"), kasAITeamShipsPtr("CryoTray07"));
	}
	else if (kasfShipsCount(kasAITeamShipsPtr("CryoTray06")))
	{
	kasfShipsAdd(kasGrowSelectionPtr("AttackTargets"), kasAITeamShipsPtr("CryoTray06"));
	}
	else if (kasfShipsCount(kasAITeamShipsPtr("CryoTray05")))
	{
	kasfShipsAdd(kasGrowSelectionPtr("AttackTargets"), kasAITeamShipsPtr("CryoTray05"));
	}
	else if (kasfShipsCount(kasAITeamShipsPtr("CryoTray04")))
	{
	kasfShipsAdd(kasGrowSelectionPtr("AttackTargets"), kasAITeamShipsPtr("CryoTray04"));
	}
	else if (kasfShipsCount(kasAITeamShipsPtr("CryoTray03")))
	{
	kasfShipsAdd(kasGrowSelectionPtr("AttackTargets"), kasAITeamShipsPtr("CryoTray03"));
	}
	else if (kasfShipsCount(kasAITeamShipsPtr("CryoTray02")))
	{
	kasfShipsAdd(kasGrowSelectionPtr("AttackTargets"), kasAITeamShipsPtr("CryoTray02"));
	}
	else if (kasfShipsCount(kasAITeamShipsPtr("CryoTray01")))
	{
	kasfShipsAdd(kasGrowSelectionPtr("AttackTargets"), kasAITeamShipsPtr("CryoTray01"));
	}
	else
	{
	kasJump("Escape", Init_Mission03_ImNotDeadYet_Escape, Watch_Mission03_ImNotDeadYet_Escape);
	return;
	}
	if (kasfVarValueGet("AvoidingFire"))
	{
	(kasfMoveAttack(kasGrowSelectionPtr("AttackTargets")), 0);
	}
	else
	{
	(kasfAttack(kasGrowSelectionPtr("AttackTargets")), 0);
	}
	
}


//
//  "watch" code for Mission03 ImNotDeadYet AttackCryoTrays state
//
void Watch_Mission03_ImNotDeadYet_AttackCryoTrays(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if (kasfVarValueGet("G_EnemyFrig02Captured") && (!kasfShipsCount(kasAITeamShipsPtr("EnemyFrig01"))))
	{
	kasJump("Escape", Init_Mission03_ImNotDeadYet_Escape, Watch_Mission03_ImNotDeadYet_Escape);
	return;
	}
	if ((kasfShipsCount(kasGrowSelectionPtr("AttackTargets")) == 0) || (kasfVarValueGet("AttackReissued")))
	{
	(kasfVarValueSet("AttackReissued", 0), 0);
	kasJump("AttackCryoTrays", Init_Mission03_ImNotDeadYet_AttackCryoTrays, Watch_Mission03_ImNotDeadYet_AttackCryoTrays);
	return;
	}
	
}


//
//  "initialize" code for Mission03 ImNotDeadYet ImCaptured state
//
void Init_Mission03_ImNotDeadYet_ImCaptured(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	kasfFindEnemiesNearTeam(kasGrowSelectionPtr("Capturers"), 500);
	kasfShipsSelectType(kasGrowSelectionPtr("Capturers"), kasGrowSelectionPtr("Capturers"), "SalCapCorvette");
	
}


//
//  "watch" code for Mission03 ImNotDeadYet ImCaptured state
//
void Watch_Mission03_ImNotDeadYet_ImCaptured(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if (!kasfShipsSelectSpecial(kasGrowSelectionPtr("Captured"), kasAITeamShipsPtr("ImNotDeadYet"), 2))
	{
	(kasfVarDestroy("G_ImNotDeadYetCaptured"), 0);
	kasJump("AttackCryoTrays", Init_Mission03_ImNotDeadYet_AttackCryoTrays, Watch_Mission03_ImNotDeadYet_AttackCryoTrays);
	return;
	}
	
}


//
//  "initialize" code for Mission03 ImNotDeadYet Escape state
//
void Init_Mission03_ImNotDeadYet_Escape(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(kasfTacticsEvasive(), 0);
	(kasfTeamSetMaxVelocity(150), 0);
	(kasfMoveTo(kasVectorPtr("DiddleOutHere")), 0);
	(kasfVarCreateSet("G_Escaping", 1), 0);
	
}


//
//  "watch" code for Mission03 ImNotDeadYet Escape state
//
void Watch_Mission03_ImNotDeadYet_Escape(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if (kasfNearby(kasVectorPtr("DiddleOutHere"), 1000))
	{
	(kasfVarCreateSet("G_ImNotDeadYetEscaped", 1), 0);
	(kasfStop(), 0);
	(kasfTeamHyperspaceOut(), 0);
	kasJump("NullState", Init_Mission03_ImNotDeadYet_NullState, Watch_Mission03_ImNotDeadYet_NullState);
	return;
	}
	
}


//
//  "initialize" code for Mission03 ImNotDeadYet NullState state
//
void Init_Mission03_ImNotDeadYet_NullState(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(kasfVarCreateSet("InNULLState", 1), 0);
	
}


//
//  "watch" code for Mission03 ImNotDeadYet NullState state
//
void Watch_Mission03_ImNotDeadYet_NullState(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "initialize" code for Mission03 DamagedCryo FSM
//
void Init_Mission03_DamagedCryo(void)
{
	CurrentMissionScope = KAS_SCOPE_FSM;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(kasfTeamSetPercentDamaged(75), 0);
	
}


//
//  "watch" code for Mission03 DamagedCryo FSM
//
void Watch_Mission03_DamagedCryo(void)
{
	CurrentMissionScope = KAS_SCOPE_FSM;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "initialize" code for Mission03 mission
//
void Init_Mission03(void)
{
	CurrentMissionScope = KAS_SCOPE_MISSION;
	strcpy(CurrentMissionScopeName, "Mission03");
	(kasfRotateDerelictType("Scaffold_scarred", -7, 20, 0, 0), 0);
	(kasfRotateDerelictType("ScaffoldFingerA_scarred", -7, 20, 0, 0), 0);
	(kasfRotateDerelictType("ScaffoldFingerB_scarred", 28, -15, 0, 5), 0);
	(kasfRotateDerelictType("Junk1_strut", 0, 0, 0, 180), 0);
	(kasfRotateDerelictType("Junk0_sensors", 0, 0, 0, 100), 0);
	(kasfRotateDerelictType("Junk1_partA", 0, 0, 0, 230), 0);
	(kasfRotateDerelictType("Junk1_partB", 0, 0, 0, 300), 0);
	kasFSMCreate("ImNotHere", Init_Mission03_ImNotHere, Watch_Mission03_ImNotHere, kasAITeamPtr("ImNotHere"));
	kasFSMCreate("EnemyFrig01", Init_Mission03_EnemyFrig01, Watch_Mission03_EnemyFrig01, kasAITeamPtr("EnemyFrig01"));
	kasFSMCreate("EnemyFrig02", Init_Mission03_EnemyFrig02, Watch_Mission03_EnemyFrig02, kasAITeamPtr("EnemyFrig02"));
	kasFSMCreate("ImNotDeadYet", Init_Mission03_ImNotDeadYet, Watch_Mission03_ImNotDeadYet, kasAITeamPtr("ImNotDeadYet"));
	kasFSMCreate("DamagedCryo", Init_Mission03_DamagedCryo, Watch_Mission03_DamagedCryo, kasAITeamPtr("CryoTray10"));
	(kasfVarCreateSet("G_SalcapKilled", 0), 0);
	(kasfVarCreateSet("SalcapLastCount", kasfFindEnemyShipsOfType(kasGrowSelectionPtr("Sal"), "SalCapCorvette")), 0);
	(kasfVarCreateSet("G_SalCapNearby", 0), 0);
	(kasfSaveLevel(3, LSTRING_LevelSave[strCurLanguage]), 0);
	
}


//
//  "watch" code for Mission03 mission
//
void Watch_Mission03(void)
{
	CurrentMissionScope = KAS_SCOPE_MISSION;
	strcpy(CurrentMissionScopeName, "Mission03");
	kasfFindEnemyShipsOfType(kasGrowSelectionPtr("CryoTrays"), "CryoTray");
	kasfFindEnemyShipsOfType(kasGrowSelectionPtr("EnemyFrigs"), "StandardFrigate");
	(kasfVarCreateSet("SalcapCurCount", kasfFindEnemyShipsOfType(kasGrowSelectionPtr("Sal"), "SalCapCorvette")), 0);
	if (kasfVarValueGet("SalcapCurCount") < kasfVarValueGet("SalcapLastCount"))
	{
	(kasfVarValueInc("G_SalcapKilled"), 0);
	(kasfVarValueSet("SalcapLastCount", kasfVarValueGet("SalcapCurCount")), 0);
	}
	else if (kasfVarValueGet("SalcapCurCount") > kasfVarValueGet("SalcapLastCount"))
	{
	(kasfVarValueSet("SalcapLastCount", kasfVarValueGet("SalcapCurCount")), 0);
	}
	if (kasfTimerExpiredDestroy("G_SalCapNearbyRepeat"))
	{
	(kasfVarValueSet("G_SalCapNearby", 0), 0);
	}
	if (!kasfVarValueGet("_VIFONCE017") && (kasfDoesPlayerHave("Chassis1"))) // "ifonce" #17
	{
	kasfVarCreateSet("_VIFONCE017", 1);
	(kasfAllowPlayerToResearch("MassDrive10Kt"), 0);
	}
	if (!kasfVarValueGet("_VIFONCE018") && (kasfDoesPlayerHave("MassDrive10Kt"))) // "ifonce" #18
	{
	kasfVarCreateSet("_VIFONCE018", 1);
	(kasfAllowPlayerToResearch("Chassis2"), 0);
	}
	if (!kasfVarValueGet("_VIFONCE019") && (kasfDoesPlayerHave("Chassis2"))) // "ifonce" #19
	{
	kasfVarCreateSet("_VIFONCE019", 1);
	(kasfAllowPlayerToResearch("MediumGuns"), 0);
	}
	
}


